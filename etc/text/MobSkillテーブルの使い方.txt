MobSkillについて

１．概要
　MobSkillテーブルはNPCが使用する特殊スキルの發動條件と發動される特殊スキルを定義したものです。
　特殊スキルは特殊物理攻擊、魔法攻擊、サモン、強制變身の4種類あります。
　このうち特殊物理攻擊とサモンはMobSkill內へ所定の數值を設定すれば動作します。
　魔法攻擊はL1SkillUseで管理していますので、skillsテーブルのskillidを設定すれば既存魔法については動作します。
　新しく魔法を追加する場合Skillsテーブルへ魔法を追加しなければなりません。

２．NPCの行動順序
　NPCの行動順序の行動順序は以下のようになっており、MobSkillは２の「特殊スキル」で使用されます。
　　１．ターゲットのサーチ→ターゲットがいなければ４へ
　　２．「特殊スキル」を發動→發動すれば１へ
　　３．通常攻擊
　　４．移動

３．發動條件
　發動條件には次の5種類あります。
　　‧ランダム（１～１００％）
　　‧現在のHP比率（１～１００％）
　　‧同族NPCのHP比率（１～１００％）
　　‧距離（指定距離以上、以下の兩方定義可能）
　　‧スキル使用回數

　これらの條件を設定するとAND條件になります。
　0を設定すれば、條件より除外されます。

４．テーブル構造とレコードフォーマット
　NPCのmobidと特殊スキルを實行する順番を決めるactNoでユニークなキーになります。
　いくつか注意事項があります。
　mobid～TriCountまではスキルの種類によらず、共通して使用しますが
　その他のフィールドは使用スキルの種類により異なります。

　‧物理攻擊は以下のフィールドを使用します。
　　　Range～Levarage、Gfxid、ActId
　‧魔法攻擊は以下のフィールドを使用します。
　　　Levarage、SkillId
　‧サモンは以下のフィールドを使用します。
　　　SummonId、SummonMin、SummonMax
　‧強制變身は以下のフィールドを使用します。
　　　PolyId

　－レコードフォーマット
　1.mobid
　　スキルを使用するNPCのID

　2.actNo
　　スキルを使用した場合、どの順番で實行するかを決める番號
　　必ず0から始め、1ずつ增やす

　3.mobname
　　スキルを使用するNPCの名前

　4.Type
　　スキルのタイプ
　　1:物理攻擊、2：魔法攻擊、3：サモン、4：強制變身

　5.TriRnd
　　スキル發動條件：ランダムな確率（1～100）

　6.TriHp
　　スキル發動條件：HPが%以下で發動（1～100）

　7.TriCompanionHp
　　スキル發動條件：同族のHPが%以下で發動（1～100）
　　このスキルが發動するとターゲットをHP比率が一番少ない同族NPCに變更します。

　8.TriRange
　　スキル發動條件：triRange<0の場合、對象との距離が絕對值(triRange)以下のとき發動
　　　　　　　　　　triRange>0の場合、對象との距離がtriRange以上のとき發動

　9.TriCount
　　スキル發動條件：スキルの發動回數がtriCount以下のとき發動

　10.ChangeTarget
　　スキル發動後、ターゲットを變更する場合に指定します。（未實裝）

　11.Range（物理攻擊のみ使用）
　　rangeまでの距離ならば攻擊可能、物理攻擊をするならば近接攻擊の場合でも1以上を設定

　12.AreaWidth（物理攻擊のみ使用）
　　範圍攻擊の橫幅、單体攻擊ならば0を設定、範圍攻擊するならば0以上を設定
　　WidthとHeightの設定は攻擊者からみて橫幅をWidth、奧行きをHeightとする。
　　Widthは1を指定すれば、ターゲットを中心として左右1までが對象となる。

　13.AreaHeight（物理攻擊のみ使用）
　　範圍攻擊の奧行き、單体攻擊ならば0を設定、範圍攻擊するならば1以上を設定

　14.Leverage（魔法攻擊、物理攻擊で使用）
　　ダメージの倍率、1/10で表す。物理攻擊、魔法攻擊共に有效

　15.SkillId（魔法攻擊のみ使用）
　　魔法を使う場合、skillsテーブルに記載されているskillIdを指定

　16.Gfxid（物理攻擊のみ使用）
　　物理攻擊のモーショングラフィックを指定する場合記入する。
　　例：ドレイクの炎、龍の尻尾‧首振り等

　17.ActId（物理攻擊のみ使用）
　　 物理攻擊のグラフィックのアクションID
　　例：オーガの薙ぎ拂い、スコーピオンの挾み⑸み攻擊

　18.SummonId（サモンのみ使用）
　　サモンするモンスターのNPCID

　19.SummonMin（サモンのみ使用）
　　サモンするモンスターの最少數

　20.SummonMax（サモンのみ使用）
　　サモンするモンスターの最大數

　21.PolyId(強制變身のみ使用)
　　強制變身させるID、polymorphsテーブルを參照して下さい。
　　強制變身させる對象は15セル以內にいるPCが對象となります。
　　壁は貫通しません。

余談
　魔法攻擊はskillidのみで、距離や範圍の指定がありません。
　これは魔法攻擊がskillsテーブルにRange～AreaHeightまでの情報を持たせているため
　mobSkillテーブルに記入する必要がないためです。
　將來、物理攻擊も魔法攻擊と同樣な構造になるかもしれませんが、そうなった場合
　こちらで、mobSkillに登錄されている物理攻擊情報は移管しますので
　互換性については問題ありません。
